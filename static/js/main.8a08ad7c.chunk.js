(this.webpackJsonpgallery=this.webpackJsonpgallery||[]).push([[0],{157:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),l=a.n(c),o=(a(60),a(33)),i=a(5),s=a(9);a(61),a(159);s.initializeApp({apiKey:"AIzaSyCvTJ_w0Jrdt4Cy4XviajSQhM-sQXGi_mM",authDomain:"gallery-80432.firebaseapp.com",databaseURL:"https://gallery-80432.firebaseio.com",projectId:"gallery-80432",storageBucket:"gallery-80432.appspot.com",messagingSenderId:"743512798317",appId:"1:743512798317:web:dd3ee88536f5b569cc3b64",measurementId:"G-0T96DW7VHC"});var u=s.firestore(),m=s.storage(),d=s.firestore.FieldValue.serverTimestamp,f=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){var t=u.collection(e);return t.orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id}))})),console.log(t),c(t)})),function(){return t()}}),[e]),{docs:r}},p=(a(65),function(){var e=f("images").docs;return r.a.createElement("div",{className:"img-flex","data-aos":"fade-up"},e&&e.map((function(e){return r.a.createElement("div",{className:"img-wrap",key:e.id},r.a.createElement("img",{src:e.url,alt:"uploaded pic"}))})))}),g=(a(66),function(){return r.a.createElement("div",{className:"title"},r.a.createElement("h1",{"data-aos":"fade-right"},"FireGallery"),r.a.createElement("h2",{"data-aos":"fade-left"},"Your Picure"),r.a.createElement("p",{"data-aos":"fade-left"},"Lorem ipsum dolor sit, amet consectetur adipisicing elit."))}),b=a(8),v=a.n(b),E=a(53),h=function(e){var t=Object(n.useState)(0),a=Object(i.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(null),o=Object(i.a)(l,2),s=o[0],f=o[1],p=Object(n.useState)(null),g=Object(i.a)(p,2),b=g[0],h=g[1];return Object(n.useEffect)((function(){var t=m.ref(e.name),a=u.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;c(t)}),(function(e){f(e)}),Object(E.a)(v.a.mark((function e(){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d(),e.next=3,t.getDownloadURL();case 3:r=e.sent,a.add({url:r,createdAt:n}),h(r);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:r,url:b,error:s}},j=(a(68),function(e){var t=e.file,a=e.setFile,c=h(t),l=c.url,o=c.progress;return console.log(o,l),Object(n.useEffect)((function(){l&&a(null)}),[l,a]),r.a.createElement("div",{className:"progress-bar",style:{width:o+"%"}})}),y=(a(69),function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(i.a)(l,2),s=o[0],u=o[1],m=["image/png","image/jpeg"];return r.a.createElement("form",null,r.a.createElement("label",{"data-aos":"fade-right"},r.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&m.includes(t.type)?(c(t),u(null)):(c(null),u("Please select an image file (png or jpeg)"))}}),r.a.createElement("span",null,"+")),r.a.createElement("div",{className:"output"},s?r.a.createElement("div",{className:"error"},s):null,a&&r.a.createElement("div",null,a.name),a&&r.a.createElement(j,{file:a,setFile:c})))}),O=a(54),w=a.n(O),S=(a(70),a(23));var k=function(){return w.a.init({duration:600,delay:1e3}),r.a.createElement("div",{className:"App"},r.a.createElement(S.b,null,r.a.createElement(S.a,null,r.a.createElement(g,null),r.a.createElement(y,null),r.a.createElement(p,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},55:function(e,t,a){e.exports=a(157)},60:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){}},[[55,1,2]]]);
//# sourceMappingURL=main.8a08ad7c.chunk.js.map